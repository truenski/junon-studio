---
interface Props {
  categories: Array<{ id: string; name: string; count: number }>;
}

const { categories } = Astro.props;
---

<div class="mb-6 border border-border/50 rounded-lg p-4 glass-panel">
  <div class="flex items-center gap-2 mb-4">
    <svg
      class="w-5 h-5 text-muted-foreground"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
      />
    </svg>
    <span class="text-sm font-ui font-semibold text-foreground">Filters</span>
  </div>
  <div class="flex flex-wrap gap-4">
    {categories.map((category) => (
      <label class="flex items-center gap-2 cursor-pointer group">
        <input
          type="checkbox"
          class="filter-checkbox w-4 h-4 bg-muted border border-border rounded focus:ring-2 focus:ring-primary text-primary cursor-pointer"
          data-category={category.id}
          checked
        />
        <span class="text-sm text-muted-foreground group-hover:text-foreground transition-colors">
          {category.name} ({category.count})
        </span>
      </label>
    ))}
  </div>
  
  <style>
    .filter-checkbox {
      appearance: none;
      -webkit-appearance: none;
      position: relative;
    }
    
    .filter-checkbox:checked {
      background-color: hsl(var(--primary));
    }
    
    .filter-checkbox:checked::after {
      content: "âœ“";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: hsl(var(--primary-foreground));
      font-size: 12px;
      font-weight: bold;
    }
    
    .filter-checkbox:hover {
      border-color: hsl(var(--primary));
    }
  </style>
</div>

